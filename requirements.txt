# ====================================
# NotebookLlama - Docling Integration
# Requirements.txt Completo
# ====================================

# ====================================
# 🏗️ CORE FRAMEWORK
# ====================================
streamlit>=1.30.0,<2.0.0
fastapi>=0.104.0,<1.0.0
uvicorn[standard]>=0.24.0,<1.0.0
pydantic>=2.5.0,<3.0.0
typing-extensions>=4.8.0

# ====================================
# 📄 DOCLING - CORE DEPENDENCY
# ====================================
docling>=1.0.0,<2.0.0
docling-core>=1.0.0,<2.0.0

# Procesamiento de documentos
pypdf>=3.17.0,<4.0.0
python-docx>=1.1.0,<2.0.0
python-pptx>=0.6.23,<1.0.0
openpyxl>=3.1.0,<4.0.0
xlsxwriter>=3.1.0,<4.0.0
Pillow>=10.1.0,<11.0.0

# ====================================
# 🗄️ BASE DE DATOS Y VECTORES
# ====================================
# PostgreSQL con soporte async
asyncpg>=0.29.0,<1.0.0
psycopg2-binary>=2.9.9,<3.0.0
sqlalchemy[asyncio]>=2.0.23,<3.0.0

# Vector database (pgvector)
pgvector>=0.2.4,<1.0.0

# ORM y migraciones
alembic>=1.12.0,<2.0.0

# ====================================
# 🧠 MODELOS DE IA Y EMBEDDINGS
# ====================================
# OpenAI
openai>=1.6.0,<2.0.0

# Anthropic Claude
anthropic>=0.8.0,<1.0.0

# Google Gemini
google-generativeai>=0.3.0,<1.0.0

# Embeddings locales y ML
sentence-transformers>=2.2.2,<3.0.0
torch>=2.1.0,<3.0.0
transformers>=4.36.0,<5.0.0
tokenizers>=0.15.0,<1.0.0

# Utilidades ML
scikit-learn>=1.3.0,<2.0.0
scipy>=1.11.4,<2.0.0

# ====================================
# 🎙️ AUDIO Y PODCASTS
# ====================================
# ElevenLabs para generación de voz
elevenlabs>=0.2.26,<1.0.0

# Procesamiento de audio
pydub>=0.25.1,<1.0.0
soundfile>=0.12.1,<1.0.0

# ====================================
# 👁️ OCR Y PROCESAMIENTO DE IMÁGENES
# ====================================
# OCR y procesamiento de imágenes
pytesseract>=0.3.10,<1.0.0
opencv-python>=4.8.1.78,<5.0.0

# Procesamiento de imágenes adicional
imageio>=2.31.0,<3.0.0
imageio-ffmpeg>=0.4.9,<1.0.0

# ====================================
# 🌐 ASYNC Y CONCURRENCIA
# ====================================
asyncio-throttle>=1.0.2,<2.0.0
aiofiles>=23.2.0,<24.0.0
aiohttp>=3.9.0,<4.0.0
httpx>=0.25.2,<1.0.0
anyio>=4.0.0,<5.0.0

# ====================================
# 🔤 PROCESAMIENTO DE TEXTO Y NLP
# ====================================
# Procesamiento de texto
spacy>=3.7.2,<4.0.0
nltk>=3.8.1,<4.0.0

# Detección de idioma
langdetect>=1.0.9,<2.0.0
polyglot>=16.7.4,<17.0.0

# Utilidades de texto
textstat>=0.7.3,<1.0.0
python-dateutil>=2.8.2,<3.0.0

# ====================================
# 📊 PROCESAMIENTO DE DATOS
# ====================================
pandas>=2.1.4,<3.0.0
numpy>=1.25.2,<2.0.0
pyarrow>=14.0.0,<15.0.0

# ====================================
# 🌐 UTILIDADES WEB Y HTTP
# ====================================
requests>=2.31.0,<3.0.0
urllib3>=2.1.0,<3.0.0
certifi>=2023.11.17
beautifulsoup4>=4.12.2,<5.0.0
lxml>=4.9.3,<5.0.0

# ====================================
# ⚙️ CONFIGURACIÓN Y VARIABLES DE ENTORNO
# ====================================
python-dotenv>=1.0.0,<2.0.0
python-decouple>=3.8,<4.0.0
pyyaml>=6.0.1,<7.0.0

# ====================================
# 📝 LOGGING Y MONITOREO
# ====================================
loguru>=0.7.2,<1.0.0
structlog>=23.2.0,<24.0.0

# Métricas y observabilidad
prometheus-client>=0.19.0,<1.0.0

# Tracing distribuido (opcional)
opentelemetry-api>=1.20.0,<2.0.0
opentelemetry-sdk>=1.20.0,<2.0.0

# ====================================
# 🔒 SEGURIDAD
# ====================================
cryptography>=41.0.7,<42.0.0
bcrypt>=4.1.2,<5.0.0
passlib[bcrypt]>=1.7.4,<2.0.0

# ====================================
# 💾 CACHE Y ALMACENAMIENTO
# ====================================
# Redis (opcional)
redis>=5.0.1,<6.0.0
hiredis>=2.2.3,<3.0.0

# Cache en memoria
cachetools>=5.3.2,<6.0.0

# ====================================
# 📄 FORMATO DE ARCHIVOS ESPECIALES
# ====================================
# Markdown
markdown>=3.5.1,<4.0.0
pymdown-extensions>=10.4,<11.0.0

# JSON y serialización
orjson>=3.9.10,<4.0.0
msgpack>=1.0.7,<2.0.0

# XML y HTML
html5lib>=1.1,<2.0.0

# ====================================
# 🎨 INTERFAZ Y VISUALIZACIÓN
# ====================================
# Componentes adicionales para Streamlit
streamlit-option-menu>=0.3.6,<1.0.0
streamlit-aggrid>=0.3.4,<1.0.0
streamlit-elements>=0.1.0,<1.0.0

# Gráficos y visualización
plotly>=5.17.0,<6.0.0
altair>=5.2.0,<6.0.0
matplotlib>=3.8.0,<4.0.0
seaborn>=0.13.0,<1.0.0

# ====================================
# 🕰️ UTILIDADES DE FECHA Y TIEMPO
# ====================================
pytz>=2023.3,<2024.0
pendulum>=3.0.0,<4.0.0

# ====================================
# 🔄 CONCURRENCIA Y PARALELIZACIÓN
# ====================================
multiprocessing-logging>=0.3.4,<1.0.0
joblib>=1.3.2,<2.0.0

# ====================================
# 🛠️ UTILIDADES GENERALES
# ====================================
# Validación y tipos
email-validator>=2.1.0,<3.0.0
phonenumbers>=8.13.0,<9.0.0

# Utilidades de archivos
pathlib2>=2.3.7,<3.0.0
click>=8.1.7,<9.0.0
rich>=13.7.0,<14.0.0

# Compresión
gzip>=1.0
zstandard>=0.22.0,<1.0.0

# Hash y identificadores
hashids>=1.3.1,<2.0.0
shortuuid>=1.0.11,<2.0.0

# ====================================
# 🔧 DESARROLLO Y TESTING (OPCIONAL)
# ====================================
# Descomenta estas líneas para desarrollo

# Testing
# pytest>=7.4.3,<8.0.0
# pytest-asyncio>=0.21.1,<1.0.0
# pytest-mock>=3.12.0,<4.0.0
# pytest-cov>=4.1.0,<5.0.0
# pytest-xdist>=3.5.0,<4.0.0

# Linting y formatting
# black>=23.11.0,<24.0.0
# isort>=5.12.0,<6.0.0
# flake8>=6.1.0,<7.0.0
# mypy>=1.7.1,<2.0.0

# Documentación
# sphinx>=7.2.6,<8.0.0
# sphinx-rtd-theme>=1.3.0,<2.0.0

# ====================================
# 🖥️ DEPENDENCIAS ESPECÍFICAS POR PLATAFORMA
# ====================================
# Windows
pywin32>=306; sys_platform == "win32"
wmi>=1.5.1; sys_platform == "win32"

# Linux
# Nota: Algunas dependencias requieren librerías del sistema
# sudo apt-get install tesseract-ocr poppler-utils libpq-dev

# ====================================
# 🔧 HERRAMIENTAS DE BUILD
# ====================================
setuptools>=69.0.0,<70.0.0
wheel>=0.42.0,<1.0.0
pip>=23.3.0,<24.0.0

# ====================================
# 📚 DEPENDENCIAS OPCIONALES AVANZADAS
# ====================================
# Descomenta según necesidades específicas

# GPU support para embeddings (opcional)
# torch-audio>=2.1.0,<3.0.0
# torchaudio>=2.1.0,<3.0.0

# Procesamiento de video (opcional)
# opencv-contrib-python>=4.8.1.78,<5.0.0
# ffmpeg-python>=0.2.0,<1.0.0

# Base de datos adicionales (opcional)
# motor>=3.3.0,<4.0.0  # MongoDB async
# aiomysql>=0.2.0,<1.0.0  # MySQL async

# APIs adicionales (opcional)
# cohere>=4.37,<5.0.0
# together>=0.2.7,<1.0.0

# Herramientas de monitoreo avanzado (opcional)
# sentry-sdk>=1.38.0,<2.0.0
# wandb>=0.16.0,<1.0.0

# ====================================
# 📝 NOTAS DE INSTALACIÓN
# ====================================
#
# INSTALACIÓN BÁSICA:
# pip install -r requirements.txt
#
# INSTALACIÓN CON DESARROLLO:
# pip install -r requirements.txt
# pip install pytest black isort flake8 mypy
#
# INSTALACIÓN COMPLETA (con opcionales):
# Descomenta las secciones necesarias arriba
#
# RESOLUCIÓN DE CONFLICTOS:
# Si hay conflictos de versiones, puedes usar:
# pip install -r requirements.txt --force-reinstall
#
# ENTORNO VIRTUAL RECOMENDADO:
# python -m venv env
# source env/bin/activate  # Linux/macOS
# env\Scripts\activate     # Windows
# pip install -r requirements.txt
#
# VERIFICACIÓN POST-INSTALACIÓN:
# python -c "import streamlit, docling, openai; print('✅ Instalación OK')"
#
# VARIABLES DE ENTORNO REQUERIDAS:
# DATABASE_URL=postgresql+asyncpg://user:pass@localhost/db
# OPENAI_API_KEY=sk-your-key
# (Ver .env.example para lista completa)
#
# DEPENDENCIAS DEL SISTEMA:
# - PostgreSQL 15+ con extensión pgvector
# - Tesseract OCR (para pytesseract)
# - Poppler utils (para pypdf)
# - FFmpeg (para audio/video, opcional)
#
# TROUBLESHOOTING:
# - Si falla torch: pip install torch --index-url https://download.pytorch.org/whl/cpu
# - Si falla en M1 Mac: ARCHFLAGS="-arch arm64" pip install -r requirements.txt
# - Si falla psycopg2: instalar postgresql-dev primero
#
# OPTIMIZACIÓN DE MEMORIA:
# Para sistemas con poca RAM, considera excluir:
# - torch y transformers (usar solo OpenAI embeddings)
# - opencv-python (si no usas OCR local)
# - spacy y nltk (si no usas NLP avanzado)
#